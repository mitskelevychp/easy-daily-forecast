async function showCam() {
  try {
    const response = await fetch(
      "https://api.weatherapi.com/v1/current.json?key=a3cf031018ba41dab30100717233006&q=Yahotyn&days=3&aqi=no&alerts=no"
    );
    const result = await response.json();
    console.log(result);

    let block = document.querySelector(".root");
    block.classList.add("root");

    // condition
    let condition = document.createElement("p");
    condition.classList.add("condition");
    if (result.current.condition.text === "Partly cloudy") {
      condition.textContent = "Невелика хмарність";
    }
    if (result.current.condition.text === "Sunny") {
      condition.textContent = "Сонячно";
    }
    if (result.current.condition.text === "Cloudy") {
      condition.textContent = "Хмарно";
    }
    if (result.current.condition.text === "Overcast") {
      condition.textContent = "Суцільна хмарність";
    }
    if (result.current.condition.text === "Mist") {
      condition.textContent = "Туман";
    }
    if (result.current.condition.text === "Patchy rain nearby") {
      condition.textContent = "Місцями дощ";
    }
    if (result.current.condition.text === "Patchy snow nearby") {
      condition.textContent = "Місцями сніг";
    }
    if (result.current.condition.text === "Patchy sleet nearby") {
      condition.textContent = "Місцями мокрий сніг";
    } else {
      condition.textContent = result.current.condition.text;
    }
    block.prepend(condition);

    // condition icon
    let conditionIcon = document.createElement("img");
    conditionIcon.classList.add("image");
    conditionIcon.src = result.current.condition.icon;
    condition.after(conditionIcon);

    // current temp
    let currentTemp = document.createElement("p");
    currentTemp.classList.add("current-temp");
    currentTemp.innerHTML = `Температура повітря: ${result.current.temp_c} &#176;C`;
    conditionIcon.after(currentTemp);

    // feelslike temp
    let feelslikeTemp = document.createElement("p");
    feelslikeTemp.classList.add("feelslike-temp");
    feelslikeTemp.innerHTML = `Відчувається як: ${result.current.feelslike_c} &#176;C`;
    currentTemp.after(feelslikeTemp);

    // gust
    let windGust = document.createElement("p");
    windGust.classList.add("fwind-gust");
    windGust.textContent = `Пориви вітру: до ${result.current.gust_kph} км/год`;
    feelslikeTemp.after(windGust);

    // wind speed
    let windІpeed = document.createElement("p");
    windІpeed.classList.add("wind-speed");
    windІpeed.textContent = `Швидкість вітру: ${result.current.wind_kph} км/год`;
    windGust.after(windІpeed);

    // humidity
    let humidityWrapper = document.createElement("div");
    humidityWrapper.classList.add("humidity-wrapper");
    let humidityText = document.createElement("p");
    humidityText.innerHTML = "Вологість:&nbsp;";
    humidityText.classList.add("humidity-text");

    let humidity = document.createElement("p");
    if (result.current.humidity > 30 && result.current.humidity < 50) {
      humidity.classList.add("humidity-green");
    } else if (result.current.humidity >= 50 && result.current.humidity < 60) {
      humidity.classList.add("humidity-light-blue");
    } else if (result.current.humidity >= 60) {
      humidity.classList.add("humidity-blue");
    }
    humidity.innerHTML = `${result.current.humidity} %`;
    windІpeed.after(humidityWrapper);
    humidityWrapper.append(humidityText);
    humidityText.after(humidity);

    // wind direction
    let windDirection = document.createElement("p");
    windDirection.classList.add("wind-direction");
    if (result.current.wind_dir === "NW") {
      let a = "Північно-Західний";
      let b = `&#11017;`;
      windDirection.innerHTML = `Напрямок вітру: ${a} ${b}`;
    } else {
      windDirection.textContent = `Напрямок вітру: ${result.current.wind_dir}`;
    }
    humidityWrapper.after(windDirection);

    // button
    let button = document.createElement("div");
    button.classList.add("button");
    button.textContent = "Обновити";
    windDirection.after(button);
    button.addEventListener("click", (e) => location.reload());
  } catch (error) {
    console.error(error);
  }
}
showCam();
